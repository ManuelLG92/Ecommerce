<!-- 2 columns form -->
<form class="form-horizontal" action="{{ action }}" id="formTest" method="post" onsubmit="return CheckForm()"
      enctype="multipart/form-data">

        <input type="hidden" name="_method" value="PUT">
        <input type="hidden" name="idProduct" value="{{ product.id }}">

    <div class="panel panel-flat">
        <div class="panel-heading">

            <h1 class="panel-title text-center">
                    Editar producto

            </h1>
            <hr>
            {# <div class="heading-elements">
                    <ul class="icons-list">
                        <li><a data-action="collapse"></a></li>
                        <li><a data-action="reload"></a></li>
                        <li><a data-action="close"></a></li>
                    </ul>
                </div> #}
        </div>

        <div class="panel-body">
            <div class="row">
                <div class="col-md-5 col-md-offset-1">
                    <fieldset>
                        {# <legend class="text-semibold"><i class="icon-reading position-left"></i> Personal details</legend> #}
                        <h2>Producto</h2>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="decorated">Producto: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="decorated" id="decorated"
                                        required="required">
                                    {# <option selected>-- Decorado --</option> #}
                                    <option value="">-- Decorado --</option>
                                    {% for decorate in decorated %}
                                        {% set selected = '' %}
                                        {% if product.idDecorated.id == decorate.id %}
                                            {% set selected = 'selected' %}
                                        {% endif %}
                                        <option value="{{ decorate.id }}" {{ selected }}>{{ decorate.name }}</option>
                                    {% endfor %}


                                </select>
                            </div>
                            {# <input type="text" name="nombre" id="nombre" class="form-control" placeholder="Decorado"
                                           value="{{ product.name }}"> #}
                        </div>


                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="name">Nombre: <span class="text-danger">*</span></label>
                            <div class="col-lg-9">
                                <input type="text" name="name" id="name" class="form-control" placeholder="Ej. Azulejo"
                                       value="{{ product.name }}" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="reference">Referencia: <span class="text-danger">*</span></label>
                            <div class="col-lg-9">
                                <input type="text" name="reference" id="reference" class="form-control"
                                       placeholder="Ej. AZW321"
                                       value="{{ product.reference }}" required>

                            </div>
                        </div>


                        <hr>
                        <h2>Caracteristicas :</h2>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="format">Formato: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="format" id="format"
                                        required="required">
                                    <option value="">-- Formato --</option>
                                    {% for format in formats %}
                                        {% set selected = '' %}
                                        {# #} {% if product.idFormat.id is same as (format.id) %}
                                        {% set selected = 'selected' %}
                                    {% endif %}
                                        <option value="{{ format.id }}" {{ selected }}>{{ format.name }}</option>
                                    {% endfor %}

                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label">Set :</label>
                            <div class="col-lg-9">
                                <div class="row">



                                        {% if product.setProduct != 1 %}
                                            <div class="col-xs-5 checkbox-inline">
                                                <label class="col-md-2" for=""><input class="ms-3" type="checkbox" name="set"
                                                                                         id="setCheckBox" checked>&nbsp;&nbsp;Set
                                                </label>

                                            </div>
                                            <div id="quantitySetDiv" class="mt-10">
                                                <div class="col-xs-3 ">
                                                    {# #} <label class="control-label"
                                                                 for="setQuantity">Cantidad: </label>
                                                </div>
                                                <div class="col-xs-3">
                                                    <select name="setQuantity" id="setQuantity"
                                                            class="selectSet">
{#                                                        <option value="1">1</option>#}
                                                        {% for i in range (2,20) %}
                                                            {% set selected = '' %}
                                                            {# #}
                                                            {% if product.setProduct is same as (i) %}
                                                                {% set selected = 'selected' %}
                                                            {% endif %}
                                                            <option value="{{ i }}" {{ selected }}>{{ i }}</option>
                                                        {% endfor %}
                                                    </select>


                                                </div>
                                            </div>

                                        {% else %}
                                            <div class="col-xs-5 checkbox-inline">
                                                <label class="col-md-2" for=""><input class="ms-3" type="checkbox" name="set"
                                                                                      id="setCheckBox" >&nbsp;&nbsp;Set
                                                </label>
                                            </div>
                                            <div id="quantitySetDiv">
                                                <div class="col-xs-3">
                                                    {# <label class="control-label mt-10" for="setQuantity">Cantidad: </label> #}
                                                </div>
                                                <div class="col-xs-3">

                                                    <input type="text" name="setQuantity" id="setQuantity" value="1"
                                                           hidden>
                                                </div>
                                            </div>
                                        {% endif %}



                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="box">Caja: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="box" id="box"
                                        required="required">
                                    {% for i in range (1,24) %}
                                        {% set selected = '' %}
                                        {% if product.box is same as (i) %}
                                            {% set selected = 'selected' %}
                                        {% endif %}
                                        <option value="{{ i }}" {{ selected }}>{{ i }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="use">Uso: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="use" id="use"
                                        required="required">
                                    <option value="">-- Uso --</option>
                                    {% for use in uses %}
                                        {% set selected = '' %}
                                        {# #} {% if product.idUse.id is same as (use.id) %}
                                        {% set selected = 'selected' %}
                                    {% endif %}
                                        <option value="{{ use.id }}" {{ selected }}>{{ use.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="zone">Zona: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="zone" id="zone"
                                        required="required">
                                    <option value="">-- Zona --</option>
                                    {% for zone in zones %}
                                        {% set selected = '' %}
                                        {% if product.idZone.id is same as (zone.id) %}
                                            {% set selected = 'selected' %}
                                        {% endif %}
                                        <option value="{{ zone.id }}" {{ selected }}>{{ zone.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="material">Acabado: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="material" id="material"
                                        required="required">
                                    <option value="">-- Acabado --</option>
                                    {% for material in materials %}
                                        {% set selected = '' %}
                                        {% if product.idMaterial.id is same as (material.id) %}
                                            {% set selected = 'selected' %}
                                        {% endif %}
                                        <option value="{{ material.id }}" {{ selected }}>{{ material.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="type">Tipo: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="type" id="type"
                                        required="required">
                                    <option value="">-- Tipo --</option>
                                    {% for type in productTypes %}
                                        {% set selected = '' %}
                                        {# #} {% if product.idType.id is same as (type.id) %}
                                        {% set selected = 'selected' %}
                                    {% endif %}
                                        <option value="{{ type.id }}" {{ selected }}>{{ type.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="country">Origen: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="country" id="country"
                                        required="required">
                                    {% if product.country is null %}
                                        <option value="">-- Selecciona un pais -- </option>
                                    {% endif %}
                                    {% for country in countries %}
                                        {% set selected = '' %}
                                        {% if  product.country is not null%}
                                        {% if product.country.id == country.id %}
                                            {% set selected = 'selected' %}
                                        {% endif %}
                                        {% endif %}
                                        <option value="{{ country.id }}" {{ selected }}>{{ country.countryName }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="brand">Marca: <span
                                        class="text-danger">*</span></label>

                            <div class="col-lg-9">
                                <select data-placeholder="" class="form-control" name="brand" id="brand"
                                        required="required">
{#                                    {% if brands|length > 1 %}#}
                                        {% if product.country is null %}
                                            <option value="">-- Marca -- </option>
                                        {% endif %}
{#                                        <option value="">-- Marca --</option>#}
{#                                    {% endif %}#}
                                    {% for brand in brands %}
                                        {% set selected = '' %}
                                        {% if product.brand.id == brand.id %}
                                            {% set selected = 'selected' %}
                                        {% endif %}
                                        <option value="{{ brand.id }}" {{ selected }}>{{ brand.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>


                    </fieldset>

                </div>

                <div class="col-md-5 ml-20 ">
                    <fieldset>
                        <h2>Stock</h2>

                        <div class="stock-almacen">


                                {% for warehouseSelected in warehousesByProduct %}
                                    {# {{ dump(warehouseSelected) }} #}
                                    <input type="hidden" name="{{ 'warehouseStockId' ~ warehouseSelected.id }}"
                                           value="{{ warehouseSelected.id }}"
                                           id="{{ 'hiddenWSId'~ warehouseSelected.id }}">
                                    <div class="form-group">

                                        <label class="col-lg-3 control-label" for="sw1">Almacen: <span
                                                    class="text-danger">*</span></label>
                                        <div class="col-lg-9" id="{{ 'warehouseDiv' ~ warehouseSelected.idWarehouse }}">

                                            <select data-placeholder="" class="form-control warehouseControl"
                                                    name="{{ 'sw' ~ warehouseSelected.id }}"
                                                    id="{{ 'sw' ~ warehouseSelected.id }}" required="required"
                                                    class="{{ 'selectWS' ~ warehouseSelected.id }}"
                                            readonly>
{#                                                <option value="">-- Almacen --</option>#}
                                                {% for warehouse in warehouses %}
{#                                                    {% set selected = '' %}#}
                                                    {% if warehouseSelected.idWarehouse is same as (warehouse.id) %}

                                                        {% set selected = 'selected' %}
                                                        <option value="{{ warehouse.id }}" selected>{{ warehouse.name }}</option>
                                                    {% endif %}

                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-lg-3 control-label"
                                               for="{{ 'ws' ~ warehouseSelected.id }}">Cantidad:
                                            <span
                                                    class="text-danger">*</span></label>
                                        <div class="col-lg-9">
                                            <input type="text"
                                                   name="{{ 'ws' ~ warehouseSelected.id }}"
                                                   id="{{ 'ws' ~ warehouseSelected.id }}"
                                                   class="form-control {{ 'stockWS' ~ warehouseSelected.id }}"
                                                   placeholder="Ej. 5400"
                                                   value="{{ warehouseSelected.stock }}" required>

                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-lg-12 control-label mr-20"
                                               for="{{ 'deleteWSid' ~ warehouseSelected.id }}">
                                            Eliminar Almacen <input type="checkbox"
                                                                    name="{{ 'deleteWSid' ~ warehouseSelected.id }}"
                                                                    id="{{ 'deleteWS' ~ warehouseSelected.id }}"
                                                                    onchange="DisableWareHouseToDelete( {{ 'deleteWS' ~ warehouseSelected.id }},
                                                                    {{ 'sw' ~ warehouseSelected.id }},
                                                                    {{ 'ws' ~ warehouseSelected.id }},
                                                                    {{ 'helper' ~ warehouseSelected.id }}  ,
                                                                    {{ 'hiddenWSId'~ warehouseSelected.id }})
                                                                            "
                                                                    value="{{ warehouseSelected.id }}">
                                        </label>
                                        <small class="col-lg-12 text-danger-800 mt-10"
                                               id="{{ 'helper' ~ warehouseSelected.id }}"></small>
                                    </div>


                                    <hr>
                                {% endfor %}

                        </div>


                        <div class="form-group">
                            <label class="col-lg-6 control-label">Agregar mas almacenes</label>
                            <div class="col-lg-6">
                                <button class="btn btn-lg btn-primary" type="button"
                                            id="addNewWarehouses"
                                          >Agregar<i
                                            class="icon-add position-right"></i></button>
                            </div>
                        </div>

                        <hr>
                        <h2>Precio</h2>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="price">Precio: </label>
                            <div class="col-lg-9">
                                <input type="text" name="price" value="{{ product.price }}" id="price"
                                       placeholder="Ej: 250.25" class="form-control mb-10"  >
                                <small class="text-danger-800">Usa un punto para separar los decimales.</small>
                            </div>

                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="currency">Divisa:</label>
                            <div class="col-lg-9" id="warehouseDiv">
                                <select data-placeholder="" class="form-control" name="currency" id="currency"
                                >

                                    {% if currencies|length > 1 %}
                                        <option value="">-- Divisa --</option>
                                    {% endif %}

                                    {% set selected = '' %}
                                    {% for currency in currencies %}
                                        {% set selected = '' %}

                                        {% if currency.id is same as (product.idCurrency) %}
                                            {% set selected = 'selected' %}
                                        {% endif %}
                                        <option value="{{ currency.id }}" {{ selected }}>{{ currency.name }}</option>
                                    {% else %}
                                        <option value="{{ currencies.id }}" {{ selected }}>{{ currencies.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="discount">Descuento:</label>
                            <div class="col-lg-9">
                                <input type="text" name="discount" id="discount" placeholder="Ej. 20"
                                       class="form-control mb-10" value="{{ product.discount }}">
                                <small class="text-danger-800">Introduce el porcentaje de descuento sin incluir  % </small>
                            </div>
                        </div>


                    </fieldset>

                    <hr>


                </div>
                <div class="text-center">
                    <div class="row">
                        <div class="col-md-12">
                    <div class="col-md-3">

                    </div>
                    <div class="col-md-3 col-xs-6">
                        <a href="{{ path('get_all_products') }}" onclick="return confirm('Estas seguro de abandonar la pagina?\nLos cambios que hayas realizado no se guardaran.')">
                        <button type="button" class="btn btn-lg btn-danger mb-20" id="exit"><i
                                    class="icon-cancel-circle2 position-left"></i>Cancelar
                        </button></a>
                    </div>

                    <div class="col-md-3 col-xs-6">
                        <button type="submit" class="btn btn-lg btn-primary mb-20">
                            Editar datos del producto <i
                                    class="icon-arrow-right14 position-right"></i></button>
                    </div>

                    <div class="col-md-3">

                    </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</form>


<div class="panel panel-flat">
    <div class="panel-body">

        <div class="col-md-12">
            <h2 class="text-center">Editar Fotos del producto</h2>
            <h2 class="text-center">{{ product.name }}</h2>
            <hr class="sub_line_break">
            <h4 class="text-center">Foto de portada: </h4>

            {% if product.imageCover is not null %}
            <div class="col-md-12 mb-20">
                <div class="text-center">
                    <img src="{{ asset('product_images/'~ product.imageCover) }}" alt="Cover picture"
                         width="80%">
                </div>
            </div>
            <div class="col-md-12 mb-20">
                <div class="text-center">
                    <form method="post"
                          action="{{ path('delete_cover_image', { 'idProduct' : product.id, 'idCoverImage': 1}) }}"
                            {# id="{{ 'coverImage' ~ cover.id}}" #}
                          onsubmit="return confirm('Estas seguro de borrar esta imagen de portada?');">
                        <input type="hidden" class="" name="_token" value="{{ csrf_token('delete' ~ product.id) }}">
                        <input type="hidden" name="_method" value="DELETE">

                        <button type="submit" class="btn btn-lg btn-danger mb-20">
                            <i class="icon-eraser3 position-left"></i> Borrar esta imagen
                        </button>
                    </form>
                </div>
            </div>
            {% else %}
            <h5 class="text-center">No hay foto de portada para este producto.</h5>
            <div class="form-group">
                <form method="post" enctype="multipart/form-data" action="{{ path('save_single_cover_image',
                    {'idProduct' : product.id}) }}"
                      onsubmit="return confirm('Estas seguro de guardar esta imagen de portada?');">
                    <label class="col-lg-3 control-label">Agregar foto portada:</label>
                    <div class="col-lg-9">
                        <input type="file" name="cover" class="file-styled">
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-lg btn-primary mt-20 mb-20">Guardar</button>
                    </div>

                </form>
            </div>
        </div>
        {% endif %}


        <hr class="sub_line_break">
        <h4 class="text-center mb-20">Foto de Ambiente: </h4>

        {% if product.imageAmbient is not null %}
        <div class="col-md-12 mb-20">
            <div class="text-center">
                <img src="{{ asset('product_images/'~ product.imageAmbient ) }}" alt="Ambient picture"
                     width="80%">
            </div>
        </div>
        <div class="col-md-12 mb-20">
            <div class="text-center">
                <form method="post"
                      action="{{ path('delete_ambient_image',
                          { 'idProduct' : product.id}) }}"

                      onsubmit="return confirm('Estas seguro de borrar esta imagen ambiente?');">
                    <input type="hidden" class="" name="_token" value="{{ csrf_token('delete' ~ product.id) }}">
                    <input type="hidden" name="_method" value="DELETE">
                    <button type="submit" class="btn btn-lg btn-danger mb-20">
                        <i class="icon-eraser3 position-left"></i> Borrar esta imagen
                    </button>
                </form>
            </div>
            {% else %}
                <h5 class="text-center">No hay foto de ambiente para este producto</h5>
                <div class="form-group">
                    <form method="post"  enctype="multipart/form-data"
                          action="{{ path('save_single_ambient_image', {'idProduct' : product.id}) }}"
                          onsubmit="return confirm('Estas seguro de guardar esta imagen de ambiente?');">
                        <label class="col-lg-3 control-label">Agregar foto de ambiente:</label>
                        <div class="col-lg-9">

                            <input type="file" name="ambient" class="file-styled">
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-lg btn-primary mt-20 mb-20">Guardar</button>
                        </div>
                    </form>
                </div>


            {% endif %}

            <hr class="sub_line_break">
            <h4 class="text-center mb-20">Fotos miniaturas: </h4>
            <div id="tinyImg">
                {% for min in  minImagesUrl %}
                    <div class="col-md-6 mb-20 border">
                        <div class="text-center images-border">
                            <img src="{{ asset('product_images/'~min.imageUrl) }}" alt="Miniature picture" height="250em"
                                 width="80%">
                        </div>

                        <div class="text-center mt-20 mb-20">
                            <form method="post"
                                  action="{{ path('delete_min_image', { 'idProduct' : product.id, 'idMinmage': min.id}) }}"
                                  onsubmit="return confirm('Estas seguro de borrar esta imagen miniatura?');">
                                <input type="hidden" class="" name="_token" value="{{ csrf_token('delete' ~ product.id) }}">
                                <input type="hidden" name="_method" value="DELETE">
                                <button type="submit" class="btn btn-lg btn-danger mb-20">
                                    <i class="icon-eraser3 position-left"></i> Borrar esta imagen
                                </button>
                            </form>
                        </div>
                    </div>


                {% else %}

                    <h5 class="text-center">No hay fotos miniaturas para este producto</h5>


                    <div id="tinyImg">

                        <div class="form-group">
                            <form method="post" action="{{ path('save_single_min_image', {'idProduct' : product.id}) }}"
                                  enctype="multipart/form-data"
                                  onsubmit="return confirm('Estas seguro de guardar esta imagen miniatura?');">
                                <label class="col-lg-3 control-label">Agrega una foto Miniatura:</label>
                                <div class="col-lg-9">
                                    <input type="file" name="min" class="file-styled">
                                </div>
                                <div class="text-center">
                                    <button type="submit" class="btn btn-lg btn-primary mt-20 mb-20">Guardar</button>
                                </div>

                            </form>
                        </div>


                    </div>



                {% endfor %}

            </div>

            <div class="form-group">
                <label class="col-lg-6 control-label">Agregar mas fotos miniatura</label>
                <div class="col-lg-6">
                    <button class="btn btn-lg btn-primary mt-20 mb-20" type="button" id="addTinyImageEdit"
                            onclick="AddMediaInput({{ product.id }})">
                        Mas<i class="icon-add position-right"></i>
                    </button>
                </div>
            </div>
        </div>

    </div>
</div>


{#</div>


</div>#}
{# onclick="CheckForm()" #}
{#
</div>


</div>
#}

